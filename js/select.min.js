function initSelect(e,t,a,n){if("boolean"==typeof t&&t){var l=e.width();e.find("ul").width(l+20),setSelectOptionsLocation(e),selectBindData(e)}else generateSelectOption(e,a);var i=e.attr("data-times")||0;0===i&&bindEvents(e,n),e.attr("data-times",++i)}function bindEvents(e,t){e.on("click",".checkspan",function(){var e=$(this).siblings("ul");e.is(":hidden")?e.slideDown(400,function(){e.mouseleave(function(){e.slideUp()})}):e.slideUp(400)}),e.mouseleave(function(){$(this).children("ul").slideUp()}),e.on("click","li",function(){var a=$(this),n=(a.text(),a.attr("data-value")),l=setSelectedValue(e,n);null!=t&&l&&t(),a.parent().slideUp(400)}),e.on("click","i",function(){$(this).next().trigger("click")})}function generateSelectOption(e,t){var a=e.attr("data-default"),n=e.width(),l='<i></i><span class="checkspan" data-value="">'+(a||"")+'</span><ul style="width:'+(n+20)+'px;">',i={};if(void 0!=a&&null!=a&&(l+='<li data-value="">'+a+"</li>",i[""]=a),t&&t.length>0)for(var d=0;d<t.length;d++){var c=t[d].value,u=t[d].text;l+='<li data-value="'+c+'">'+u+"</li>",i[c]=u}l+="</ul>",e.html(l),e.data(i),setSelectOptionsLocation(e)}function selectBindData(e){var t={},a=e.find("li");if(a.length>0)for(var n=0;n<a.length;n++){var l=a.eq(n).attr("data-value"),i=a.eq(n).text();t[l]=i}e.data(t)}function setSelectOptionsLocation(e){var t=$(window).height(),a=e.height(),n=e.find("ul").height();e.offset().top+a+n>t?e.addClass("select-upon"):e.addClass("select-down")}function setSelectedValueAndText(e,t){var a=e.find(".checkspan");a.attr("data-value",t.value),a.text(t.text)}function getSelectedValueAndText(e){var t=e.find(".checkspan");return{value:t.attr("data-value"),text:t.text()}}function getSelectedValue(e){return getSelectedValueAndText(e).value}function getSelectedText(e){return getSelectedValueAndText(e).text}function setSelectedValue(e,t){if(void 0==t||null==t)return!1;var a=e.data(),n=a[t];return void 0!=n&&null!=n&&(getSelectedValueAndText(e).value!=t&&(setSelectedValueAndText(e,{value:t,text:n}),!0))}